(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{436:function(t,e,r){"use strict";var n=r(0).a.extend({data:function(){return{version:"1.0.8"}}}),o=r(64),l=r(94),c=r.n(l),d=r(493),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-footer",{attrs:{color:t.$colors.indigo.darken2,absolute:"",app:"",elevation:"8",height:"32",padless:""}},[r("div",{staticClass:"mx-auto my-auto"},[r("span",{staticClass:"white--text",style:{fontSize:"12px"}},[t._v("\n      sapporo-web "+t._s(t.version)+" Â© Bioinformation and DDBJ Center\n    ")])])])}),[],!1,null,null,null);e.a=component.exports;c()(component,{VFooter:d.a})},447:function(t,e,r){"use strict";var n=r(468);e.a=n.a},485:function(t,e,r){var content=r(574);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(27).default)("0521021d",content,!0,{sourceMap:!1})},486:function(t,e,r){var content=r(578);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(27).default)("232bd131",content,!0,{sourceMap:!1})},573:function(t,e,r){"use strict";r(485)},574:function(t,e,r){var n=r(26)(!1);n.push([t.i,'.param-card-header[data-v-aa98c056]{font-family:"Quicksand",sans-serif;font-size:1.2rem;font-weight:600;background:#eee}.field-header[data-v-aa98c056]{font-size:1.1rem;font-weight:400}.input-field-small[data-v-aa98c056] .CodeMirror{height:150px!important;font-size:.9rem!important}.input-field-small[data-v-aa98c056] .CodeMirror-lines{font-family:"Fira Code",monospace,sans-serif!important}.input-field-middle[data-v-aa98c056] .CodeMirror{height:300px!important;font-size:.9rem!important}.input-field-middle[data-v-aa98c056] .CodeMirror-lines{font-family:"Fira Code",monospace,sans-serif!important}.input-field-large[data-v-aa98c056] .CodeMirror{height:400px!important;font-size:.9rem!important}.input-field-large[data-v-aa98c056] .CodeMirror-lines{font-family:"Fira Code",monospace,sans-serif!important}',""]),t.exports=n},575:function(t,e,r){var content=r(576);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(27).default)("83ff91dc",content,!0,{sourceMap:!1})},576:function(t,e,r){var n=r(26)(!1);n.push([t.i,".theme--light.v-file-input .v-file-input__text{color:rgba(0,0,0,.87)}.theme--light.v-file-input .v-file-input__text--placeholder{color:rgba(0,0,0,.6)}.theme--light.v-file-input.v-input--is-disabled .v-file-input__text,.theme--light.v-file-input.v-input--is-disabled .v-file-input__text .v-file-input__text--placeholder{color:rgba(0,0,0,.38)}.theme--dark.v-file-input .v-file-input__text{color:#fff}.theme--dark.v-file-input .v-file-input__text--placeholder{color:hsla(0,0%,100%,.7)}.theme--dark.v-file-input.v-input--is-disabled .v-file-input__text,.theme--dark.v-file-input.v-input--is-disabled .v-file-input__text .v-file-input__text--placeholder{color:hsla(0,0%,100%,.5)}.v-file-input input[type=file]{left:0;opacity:0;pointer-events:none;position:absolute;max-width:0;width:0}.v-file-input .v-file-input__text{align-items:center;align-self:stretch;display:flex;flex-wrap:wrap;width:100%}.v-file-input .v-file-input__text.v-file-input__text--chips{flex-wrap:wrap}.v-file-input .v-file-input__text .v-chip{margin:4px}.v-file-input .v-text-field__slot{min-height:32px}.v-file-input.v-input--dense .v-text-field__slot{min-height:26px}.v-file-input.v-text-field--filled:not(.v-text-field--single-line) .v-file-input__text{padding-top:22px}.v-file-input.v-text-field--outlined .v-text-field__slot{padding:6px 0}.v-file-input.v-text-field--outlined.v-input--dense .v-text-field__slot{padding:3px 0}",""]),t.exports=n},577:function(t,e,r){"use strict";r(486)},578:function(t,e,r){var n=r(26)(!1);n.push([t.i,'.content-viewer[data-v-36f3247f] .CodeMirror{height:400px!important;font-size:.9rem!important}.content-viewer[data-v-36f3247f] .CodeMirror-lines{font-family:"Fira Code",monospace,sans-serif!important}.info-table[data-v-36f3247f] td:first-child{width:220px;font-weight:500}',""]),t.exports=n},579:function(t,e,r){var content=r(580);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(27).default)("5db1c400",content,!0,{sourceMap:!1})},580:function(t,e,r){var n=r(26)(!1);n.push([t.i,'.theme--light.v-alert .v-alert--prominent .v-alert__icon:after{background:rgba(0,0,0,.12)}.theme--dark.v-alert .v-alert--prominent .v-alert__icon:after{background:hsla(0,0%,100%,.12)}.v-sheet.v-alert{border-radius:4px}.v-sheet.v-alert:not(.v-sheet--outlined){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.v-sheet.v-alert.v-sheet--shaped{border-radius:24px 4px}.v-alert{display:block;font-size:16px;margin-bottom:16px;padding:16px;position:relative;transition:.3s cubic-bezier(.25,.8,.5,1)}.v-alert:not(.v-sheet--tile){border-radius:4px}.v-application--is-ltr .v-alert>.v-alert__content,.v-application--is-ltr .v-alert>.v-icon{margin-right:16px}.v-application--is-rtl .v-alert>.v-alert__content,.v-application--is-rtl .v-alert>.v-icon{margin-left:16px}.v-application--is-ltr .v-alert>.v-icon+.v-alert__content{margin-right:0}.v-application--is-rtl .v-alert>.v-icon+.v-alert__content{margin-left:0}.v-application--is-ltr .v-alert>.v-alert__content+.v-icon{margin-right:0}.v-application--is-rtl .v-alert>.v-alert__content+.v-icon{margin-left:0}.v-alert__border{border-style:solid;border-width:4px;content:"";position:absolute}.v-alert__border:not(.v-alert__border--has-color){opacity:.26}.v-alert__border--left,.v-alert__border--right{bottom:0;top:0}.v-alert__border--bottom,.v-alert__border--top{left:0;right:0}.v-alert__border--bottom{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;bottom:0}.v-application--is-ltr .v-alert__border--left{border-top-left-radius:inherit;border-bottom-left-radius:inherit;left:0}.v-application--is-ltr .v-alert__border--right,.v-application--is-rtl .v-alert__border--left{border-top-right-radius:inherit;border-bottom-right-radius:inherit;right:0}.v-application--is-rtl .v-alert__border--right{border-top-left-radius:inherit;border-bottom-left-radius:inherit;left:0}.v-alert__border--top{border-top-left-radius:inherit;border-top-right-radius:inherit;top:0}.v-alert__content{flex:1 1 auto}.v-application--is-ltr .v-alert__dismissible{margin:-16px -8px -16px 8px}.v-application--is-rtl .v-alert__dismissible{margin:-16px 8px -16px -8px}.v-alert__icon{align-self:flex-start;border-radius:50%;height:24px;min-width:24px;position:relative}.v-application--is-ltr .v-alert__icon{margin-right:16px}.v-application--is-rtl .v-alert__icon{margin-left:16px}.v-alert__icon.v-icon{font-size:24px}.v-alert__wrapper{align-items:center;border-radius:inherit;display:flex}.v-application--is-ltr .v-alert--border.v-alert--prominent .v-alert__icon{margin-left:8px}.v-application--is-rtl .v-alert--border.v-alert--prominent .v-alert__icon{margin-right:8px}.v-alert--dense{padding-top:8px;padding-bottom:8px}.v-alert--dense .v-alert__border{border-width:medium}.v-alert--outlined{background:transparent!important;border:thin solid!important}.v-alert--outlined .v-alert__icon{color:inherit!important}.v-alert--prominent .v-alert__icon{align-self:center;height:48px;min-width:48px}.v-alert--prominent .v-alert__icon.v-icon{font-size:32px}.v-alert--prominent .v-alert__icon.v-icon:after{background:currentColor!important;border-radius:50%;bottom:0;content:"";left:0;opacity:.16;position:absolute;right:0;top:0}.v-alert--prominent.v-alert--dense .v-alert__icon.v-icon:after{transform:scale(1)}.v-alert--text{background:transparent!important}.v-alert--text:before{background-color:currentColor;border-radius:inherit;bottom:0;content:"";left:0;opacity:.12;position:absolute;pointer-events:none;right:0;top:0}',""]),t.exports=n},590:function(t,e,r){"use strict";r.r(e);var n=r(5),o=(r(59),r(68),r(60),r(194)),l=r(436),c=r(196),d=(r(13),r(46),r(35),r(8),r(44),r(52),r(39),r(51),r(24),r(21),r(31),r(58),r(33),r(439),r(440),r(441),r(442)),f=r(73),h=r(0);function m(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return l=t.done,t},e:function(t){c=!0,o=t},f:function(){try{l||null==r.return||r.return()}finally{if(c)throw o}}}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var w={components:{codemirror:d.codemirror},props:{workflowId:{type:String,required:!0}},data:function(){return{runName:"",wfEngine:"",wfEngineParams:"{}",tags:"{}",wfAttachmentText:"",workflowAttachment:[null],fileNames:[null],wfParams:"{}",executeButton:!0}},computed:{service:function(){return this.$store.getters["services/service"](this.workflow.serviceId)},serviceWorkflowAttachment:function(){return this.$store.getters["services/workflowAttachment"](this.workflow.serviceId)},workflow:function(){return this.$store.getters["workflows/workflow"](this.workflowId)},runNames:function(){return this.$store.getters["runs/runsByIds"](this.service.runIds).map((function(t){return t.name}))},wfEngines:function(){return this.$store.getters["services/workflowEngines"](this.service.id).map((function(t){return"".concat(t.name," ").concat(t.version)}))},formValid:function(){return!(this.runNameError||this.wfEngineError||this.wfEngineParamsError||this.tagsError||this.wfParamsError)},runNameError:function(){return this.runName?this.runNames.includes(this.runName)?"'Run name: ".concat(this.runName," already exists."):"":"Run name is require."},wfEngineError:function(){return this.wfEngine?this.wfEngines.includes(this.wfEngine)?"":"Workflow engine: ".concat(this.wfEngine," is not an executable workflow engine."):"Workflow engine is require."},wfEngineParamsError:function(){return Object(f.c)(this.wfEngineParams)||Object(f.d)(this.wfEngineParams)?"":"Please enter the correct JSON or YAML."},tagsError:function(){return Object(f.c)(this.wfEngineParams)||Object(f.d)(this.wfEngineParams)?"":"Please enter the correct JSON or YAML."},wfAttachmentTextError:function(){if(!Object(f.c)(this.wfAttachmentText)&&!Object(f.d)(this.wfAttachmentText))return"Please enter the correct JSON or YAML.";try{var content=Object(f.e)(this.wfAttachmentText);if(!Array.isArray(content))return"Please nter in the type `Array<{file_name: string, file_url: string}>`.";var t,e=m(content);try{for(e.s();!(t=e.n()).done;){var r=t.value;if(!("file_name"in r)||!("file_url"in r))return"Please enter in the type `Array<{file_name: string, file_url: string}>`."}}catch(t){e.e(t)}finally{e.f()}}catch(t){return"Some kind of error is occurring."}return""},wfParamsError:function(){return Object(f.c)(this.wfParams)||Object(f.d)(this.wfParams)?"":"Please enter the correct JSON or YAML."}},created:function(){this.runName="".concat(this.workflow.name," ").concat(this.$dayjs().local().format("YYYY-MM-DD HH:mm:ss")),1===this.wfEngines.length&&(this.wfEngine=this.wfEngines[0]),this.wfAttachmentText=JSON.stringify(this.workflow.preRegisteredWorkflowAttachment,null,2)},methods:{executeRun:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.formValid){e.next=4;break}return t.executeButton=!1,e.next=4,t.$store.dispatch("runs/executeRun",{service:t.service,workflow:t.workflow,runName:t.runName,wfEngineName:t.wfEngine.split(" ")[0],wfEngineParams:Object(f.d)(t.wfEngineParams)?Object(f.g)(t.wfEngineParams):t.wfEngineParams,tags:Object(f.d)(t.tags)?Object(f.g)(t.tags):t.tags,wfAttachmentText:Object(f.d)(t.wfAttachmentText)?Object(f.g)(t.wfAttachmentText):t.wfAttachmentText,workflowAttachment:t.workflowAttachment,fileNames:t.fileNames,wfParams:Object(f.d)(t.wfParams)?Object(f.g)(t.wfParams):t.wfParams}).then((function(e){t.$router.push({path:"/runs",query:{runId:e}})}));case 4:case"end":return e.stop()}}),e)})))()},updateWorkflowAttachment:function(t,e){null===t?h.a.set(this.fileNames,e,null):h.a.set(this.fileNames,e,t.name)},updateFileName:function(t,e){if(null===t){var r=this.workflowAttachment[e];null!==r&&h.a.set(this.fileNames,e,r.name)}},incrementWorkflowAttachment:function(){this.workflowAttachment.push(null),this.fileNames.push(null)},decrementWorkflowAttachment:function(){var t=this.workflowAttachment.length;t>1&&(this.workflowAttachment=this.workflowAttachment.slice(0,t-1),this.fileNames=this.fileNames.slice(0,t-1))},codeMirrorMode:function(content){return Object(f.a)(content)}}},_=h.a.extend(w),x=(r(573),r(64)),y=r(94),k=r.n(y),C=r(420),P=r(428),O=(r(9),r(11),r(22),r(23),r(65)),E=r(2),A=r(12),$=(r(43),r(284),r(15),r(575),r(447)),j=r(472),S=r(1),N=r(14),I=r(88);function M(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function V(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?M(Object(source),!0).forEach((function(e){Object(E.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):M(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var W=$.a.extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:function(t){return"boolean"==typeof t||[1e3,1024].includes(t)}},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:function(t){return Object(S.F)(t).every((function(t){return null!=t&&"object"===Object(A.a)(t)}))}}},computed:{classes:function(){return V(V({},$.a.options.computed.classes.call(this)),{},{"v-file-input":!0})},computedCounterValue:function(){var t=this.isMultiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,t);var e=this.internalArrayValue.reduce((function(t,e){var r=e.size;return t+(void 0===r?0:r)}),0);return this.$vuetify.lang.t(this.counterSizeString,t,Object(S.v)(e,1024===this.base))},internalArrayValue:function(){return Object(S.F)(this.internalValue)},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit("change",this.lazyValue)}},isDirty:function(){return this.internalArrayValue.length>0},isLabelActive:function(){return this.isDirty},isMultiple:function(){return this.$attrs.hasOwnProperty("multiple")},text:function(){var t=this;return this.isDirty||!this.isFocused&&this.hasLabel?this.internalArrayValue.map((function(e){var r=e.name,n=void 0===r?"":r,o=e.size,l=void 0===o?0:o,c=t.truncateText(n);return t.showSize?"".concat(c," (").concat(Object(S.v)(l,1024===t.base),")"):c})):[this.placeholder]},base:function(){return"boolean"!=typeof this.showSize?this.showSize:void 0},hasChips:function(){return this.chips||this.smallChips}},watch:{readonly:{handler:function(t){!0===t&&Object(N.b)("readonly is not supported on <v-file-input>",this)},immediate:!0},value:function(t){var e=this.isMultiple?t:t?[t]:[];Object(S.i)(e,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback:function(){this.internalValue=this.isMultiple?[]:null,this.$refs.input.value=""},genChips:function(){var t=this;return this.isDirty?this.text.map((function(text,e){return t.$createElement(j.a,{props:{small:t.smallChips},on:{"click:close":function(){var r=t.internalValue;r.splice(e,1),t.internalValue=r}}},[text])})):[]},genControl:function(){var t=$.a.options.methods.genControl.call(this);return this.hideInput&&(t.data.style=Object(I.c)(t.data.style,{display:"none"})),t},genInput:function(){var input=$.a.options.methods.genInput.call(this);return delete input.data.domProps.value,delete input.data.on.input,input.data.on.change=this.onInput,[this.genSelections(),input]},genPrependSlot:function(){var t=this;if(!this.prependIcon)return null;var e=this.genIcon("prepend",(function(){t.$refs.input.click()}));return this.genSlot("prepend","outer",[e])},genSelectionText:function(){var t=this.text.length;return t<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,t)]},genSelections:function(){var t=this,e=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((function(r,n){t.$scopedSlots.selection&&e.push(t.$scopedSlots.selection({text:t.text[n],file:r,index:n}))})):e.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},e)},genTextFieldSlot:function(){var t=this,e=$.a.options.methods.genTextFieldSlot.call(this);return e.data.on=V(V({},e.data.on||{}),{},{click:function(){return t.$refs.input.click()}}),e},onInput:function(t){var e=Object(O.a)(t.target.files||[]);this.internalValue=this.isMultiple?e:e[0],this.initialValue=this.internalValue},onKeyDown:function(t){this.$emit("keydown",t)},truncateText:function(t){if(t.length<Number(this.truncateLength))return t;var e=Math.floor((Number(this.truncateLength)-1)/2);return"".concat(t.slice(0,e),"â¦").concat(t.slice(t.length-e))}}}),B=r(419),D=r(487),T=r(468),component=Object(x.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{attrs:{elevation:"8","max-width":"1200"}},[r("div",{staticClass:"card-header pl-6 pt-4",domProps:{textContent:t._s("Execute Run")}}),t._v(" "),r("div",{staticClass:"px-12 py-4"},[r("div",{staticClass:"field-header",domProps:{textContent:t._s("Run Name")}}),t._v(" "),r("v-text-field",{staticClass:"pt-0 px-4 pb-4",attrs:{"error-messages":t.runNameError,clearable:"",hint:"Required.","persistent-hint":"","single-line":""},model:{value:t.runName,callback:function(e){t.runName=e},expression:"runName"}}),t._v(" "),r("div",{staticClass:"field-header",domProps:{textContent:t._s("Workflow Engine")}}),t._v(" "),r("v-select",{staticClass:"pt-0 px-4 pb-4",attrs:{"error-messages":t.wfEngineError,items:t.wfEngines,clearable:"",hint:"Required.","persistent-hint":"","single-line":""},model:{value:t.wfEngine,callback:function(e){t.wfEngine=e},expression:"wfEngine"}}),t._v(" "),r("div",{staticClass:"mt-4 field-header",domProps:{textContent:t._s("Workflow Engine Parameters")}}),t._v(" "),r("codemirror",{staticClass:"mx-4 mt-4 mb-2 elevation-2 input-field-small",style:{outline:"solid 1px "+(t.wfEngineParamsError?t.$vuetify.theme.themes.light.error:t.$colors.grey.lighten1)},attrs:{options:{lineNumbers:!0,mode:t.codeMirrorMode(t.wfEngineParams),tabSize:2}},model:{value:t.wfEngineParams,callback:function(e){t.wfEngineParams=e},expression:"wfEngineParams"}}),t._v(" "),r("div",{staticClass:"mx-4 v-messages theme--light",class:{"error--text":!!t.wfEngineParamsError},domProps:{textContent:t._s(t.wfEngineParamsError?t.wfEngineParamsError:"Not required, JSON or YAML object, multiple lines, you can use file drag and drop.")}}),t._v(" "),r("div",{staticClass:"mt-4 field-header",domProps:{textContent:t._s("Tags")}}),t._v(" "),r("codemirror",{staticClass:"mx-4 mt-4 mb-2 elevation-2 input-field-small",style:{outline:"solid 1px "+(t.tagsError?t.$vuetify.theme.themes.light.error:t.$colors.grey.lighten1)},attrs:{options:{lineNumbers:!0,mode:t.codeMirrorMode(t.tags),tabSize:2}},model:{value:t.tags,callback:function(e){t.tags=e},expression:"tags"}}),t._v(" "),r("div",{staticClass:"mx-4 v-messages theme--light",class:{"error--text":!!t.tagsError},domProps:{textContent:t._s(t.tagsError?t.tagsError:"Not required, JSON or YAML object, multiple lines, you can use file drag and drop.")}}),t._v(" "),r("div",{staticClass:"mt-4 mb-2 field-header",domProps:{textContent:t._s("Workflow Attachment")}}),t._v(" "),r("div",{staticClass:"ml-6",domProps:{textContent:t._s(t.serviceWorkflowAttachment?"Workflow Attachment as JSON/YAML":"Workflow Attachment as JSON/YAML (read-only)")}}),t._v(" "),r("codemirror",{staticClass:"ml-14 mr-4 mt-4 mb-4 elevation-2 input-field-middle",style:{outline:"solid 1px "+(t.wfAttachmentTextError?t.$vuetify.theme.themes.light.error:t.$colors.grey.lighten1)},attrs:{options:{lineNumbers:!0,mode:t.codeMirrorMode(t.wfAttachmentText),tabSize:2,readOnly:!t.serviceWorkflowAttachment}},model:{value:t.wfAttachmentText,callback:function(e){t.wfAttachmentText=e},expression:"wfAttachmentText"}}),t._v(" "),t.serviceWorkflowAttachment?r("div",{staticClass:"ml-14 v-messages theme--light",class:{"error--text":!!t.wfAttachmentTextError},domProps:{textContent:t._s(t.wfAttachmentTextError?t.wfAttachmentTextError:"Not required, JSON or YAML object, multiple lines, you can use file drag and drop.")}}):t._e(),t._v(" "),r("div",{staticClass:"mt-4 ml-6 mb-2",domProps:{textContent:t._s("Workflow Attachment as File")}}),t._v(" "),t.serviceWorkflowAttachment?r("div",{staticClass:"d-flex flex-column mx-4"},[t._l(t.workflowAttachment.length,(function(e){return r("div",{key:e,staticClass:"d-flex ml-8"},[r("v-file-input",{staticClass:"mr-8 pt-0",style:{maxWidth:"50%",minWidth:"50%"},attrs:{clearable:"",label:"File","show-size":"","single-line":""},on:{change:function(r){return t.updateWorkflowAttachment(r,e-1)}},model:{value:t.workflowAttachment[e-1],callback:function(r){t.$set(t.workflowAttachment,e-1,r)},expression:"workflowAttachment[ind - 1]"}}),t._v(" "),r("v-text-field",{staticClass:"pt-0",attrs:{clearable:"",label:"File name","single-line":""},on:{change:function(r){return t.updateFileName(r,e-1)}},model:{value:t.fileNames[e-1],callback:function(r){t.$set(t.fileNames,e-1,r)},expression:"fileNames[ind - 1]"}})],1)})),t._v(" "),r("div",{staticClass:"ml-10 v-messages theme--light",domProps:{textContent:t._s("Not required, multiple files.")}}),t._v(" "),r("div",{staticClass:"d-flex justify-end"},[r("v-btn",{staticClass:"mr-4",attrs:{color:t.$colors.grey.darken2,outlined:"",width:"160"},on:{click:function(e){return e.stopPropagation(),t.incrementWorkflowAttachment.apply(null,arguments)}}},[r("v-icon",{staticClass:"mr-2",domProps:{textContent:t._s("mdi-text-box-plus-outline")}}),t._v(" "),r("span",{domProps:{textContent:t._s("Increment")}})],1),t._v(" "),r("v-btn",{attrs:{color:t.$colors.grey.darken2,outlined:"",width:"160"},on:{click:function(e){return e.stopPropagation(),t.decrementWorkflowAttachment.apply(null,arguments)}}},[r("v-icon",{staticClass:"mr-2",domProps:{textContent:t._s("mdi-text-box-minus-outline")}}),t._v(" "),r("span",{domProps:{textContent:t._s("Decrement")}})],1)],1)],2):t._e(),t._v(" "),t.serviceWorkflowAttachment?t._e():r("div",{staticClass:"ml-14 mb-4",style:{color:t.$vuetify.theme.themes.light.error,textDecorationLine:"underline"},domProps:{textContent:t._s("Worklfow attachment is not allowed in this service.")}}),t._v(" "),r("div",{staticClass:"mt-4 field-header",domProps:{textContent:t._s("Workflow Parameters")}}),t._v(" "),r("codemirror",{staticClass:"mx-4 mt-4 mb-2 elevation-2 input-field-large",style:{outline:"solid 1px "+(t.wfParamsError?t.$vuetify.theme.themes.light.error:t.$colors.grey.lighten1)},attrs:{options:{lineNumbers:!0,mode:t.codeMirrorMode(t.wfParams),tabSize:2}},model:{value:t.wfParams,callback:function(e){t.wfParams=e},expression:"wfParams"}}),t._v(" "),r("div",{staticClass:"mx-4 v-messages theme--light",class:{"error--text":!!t.wfParamsError},domProps:{textContent:t._s(t.wfParamsError?t.wfParamsError:"Not required, JSON or YAML object, multiple lines, you can use file drag and drop.")}})],1),t._v(" "),r("div",{staticClass:"d-flex justify-end pb-6 mr-12"},[r("v-btn",{attrs:{color:"primary",outlined:"",width:"140",disabled:!t.formValid||"Available"!==t.service.state||!t.executeButton},on:{click:function(e){return e.stopPropagation(),t.executeRun.apply(null,arguments)}}},[r("v-icon",{staticClass:"mr-2",domProps:{textContent:t._s("mdi-rocket-launch-outline")}}),t._v(" "),r("span",{domProps:{textContent:t._s("Execute")}})],1)],1)])}),[],!1,null,"aa98c056",null),z=component.exports;k()(component,{VBtn:C.a,VCard:P.a,VFileInput:W,VIcon:B.a,VSelect:D.a,VTextField:T.a});r(78),r(193);var L={components:{codemirror:d.codemirror},props:{workflowId:{type:String,required:!0}},data:function(){return{workflowInfoHeaders:[{text:"Key",value:"key"},{text:"Value",value:"value"}],copy:!1}},computed:{workflow:function(){return this.$store.getters["workflows/workflow"](this.workflowId)},service:function(){return this.$store.getters["services/service"](this.workflow.serviceId)},workflowInfoContents:function(){return[{key:"Service",value:""},{key:"Workflow Type Version",value:"".concat(this.workflow.type," ").concat(this.workflow.version)},{key:"Workflow URL",value:this.workflow.url},{key:"Added / Updated Date",value:this.workflow.preRegistered?this.$dayjs(this.workflow.updatedDate).local().format("YYYY-MM-DD HH:mm:ss"):this.$dayjs(this.workflow.addedDate).local().format("YYYY-MM-DD HH:mm:ss")}]}},methods:{validUrl:function(t){return Object(f.f)(t)},codeMirrorMode:function(content){return Object(f.a)(content)},copyWorkflowContent:function(){var t=this;this.$copyText(this.workflow.content),this.copy=!0,setTimeout((function(){t.copy=!1}),2e3)},downloadWorkflowContent:function(){var t=new Blob([this.workflow.content],{type:"text/plane"}),e=window.URL.createObjectURL(t),link=document.createElement("a");link.download=this.workflow.url.split("/").slice(-1)[0],link.href=e,link.click(),link.remove(),window.URL.revokeObjectURL(e)}}},R=h.a.extend(L),Y=(r(577),r(592)),F=r(426),J=Object(x.a)(R,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.workflow?r("v-card",{attrs:{elevation:"8","max-width":"1200"}},[r("div",{staticClass:"d-flex align-center px-6 pt-4"},[r("div",{staticClass:"card-header",domProps:{textContent:t._s(t.workflow.name)}}),t._v(" "),t.workflow.preRegistered?r("v-chip",{staticClass:"ml-4",attrs:{color:t.$colors.blueGrey.darken1,label:"",small:"","text-color":"white"},domProps:{textContent:t._s("Pre-registered")}}):t._e()],1),t._v(" "),r("v-data-table",{staticClass:"mx-12 pt-2 info-table",attrs:{headers:t.workflowInfoHeaders,items:t.workflowInfoContents,"calculate-widths":"","disable-filtering":"","disable-pagination":"","disable-sort":"","hide-default-footer":"","hide-default-header":"","item-key":"key"},scopedSlots:t._u([{key:"item.value",fn:function(e){var n=e.item;return["Service"===n.key?r("nuxt-link",{attrs:{to:{path:"/services",query:{serviceId:t.service.id}}},domProps:{textContent:t._s(t.service.name)}}):"Workflow URL"===n.key&&t.validUrl(n.value)?r("a",{attrs:{href:n.value}},[t._v(t._s(n.value))]):r("div",{domProps:{textContent:t._s(n.value)}})]}}],null,!0)}),t._v(" "),r("codemirror",{staticClass:"mx-12 mt-4 elevation-2 content-viewer",style:{outline:"solid 1px "+t.$colors.grey.lighten1},attrs:{options:{lineNumbers:!0,mode:t.codeMirrorMode(t.workflow.content),tabSize:2,readOnly:!0},value:t.workflow.content}}),t._v(" "),r("div",{staticClass:"d-flex mt-4 pb-6 mr-12"},[r("v-spacer"),t._v(" "),r("v-btn",{staticClass:"mr-4",attrs:{color:t.$colors.grey.darken2,outlined:"",width:"150"},on:{click:function(e){return e.stopPropagation(),t.downloadWorkflowContent.apply(null,arguments)}}},[r("v-icon",{staticClass:"mr-2",domProps:{textContent:t._s("mdi-download")}}),t._v(" "),r("span",{domProps:{textContent:t._s("Download")}})],1),t._v(" "),r("v-btn",{attrs:{color:t.$colors.grey.darken2,outlined:"",width:"150"},on:{click:function(e){return e.stopPropagation(),t.copyWorkflowContent.apply(null,arguments)}}},[t.copy?[t._v(" copied!")]:[r("v-icon",{staticClass:"mr-2",domProps:{textContent:t._s("mdi-clipboard-outline")}}),t._v(" "),r("span",{domProps:{textContent:t._s("Copy")}})]],2)],1)],1):t._e()}),[],!1,null,"36f3247f",null),U=J.exports;k()(J,{VBtn:C.a,VCard:P.a,VChip:j.a,VDataTable:Y.a,VIcon:B.a,VSpacer:F.a});var H={components:{AppBar:o.a,AppFooter:l.a,Breadcrumbs:c.a,ExecuteCard:z,InfoCard:U},middleware:function(t){var e=t.store,r=t.route.query.workflowId||"";Array.isArray(r)&&(r=r[0]||""),window.onNuxtReady(Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch("services/updateService",e.getters["workflows/workflow"](r).serviceId);case 2:case"end":return t.stop()}}),t)}))))},computed:{service:function(){return this.$store.getters["services/service"](this.workflow.serviceId)},workflow:function(){return this.$store.getters["workflows/workflow"](this.workflowId)},workflowId:function(){var t=this.$route.query.workflowId||"";return Array.isArray(t)?t[0]||"":t},existWorkflowId:function(){return this.$store.getters["workflows/workflowIds"].includes(this.workflowId)}}},K=h.a.extend(H),G=(r(579),r(101)),Q=r(282),X=r(281),Z=r(125),tt=r(56),et=h.a.extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),it=r(19);function nt(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function ot(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?nt(Object(source),!0).forEach((function(e){Object(E.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):nt(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var at=Object(it.a)(G.a,Z.a,et).extend({name:"v-alert",props:{border:{type:String,validator:function(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(t){return"string"==typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var data={staticClass:"v-alert__border",class:Object(E.a)({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&((data=this.setBackgroundColor(this.computedColor,data)).class["v-alert__border--has-color"]=!0),this.$createElement("div",data)},__cachedDismissible:function(){var t=this;if(!this.dismissible)return null;var e=this.iconColor;return this.$createElement(Q.a,{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return t.isActive=!1}}},[this.$createElement(X.a,{props:{color:e}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(X.a,{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var t=ot(ot({},G.a.options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(t["v-alert--border-".concat(this.border)]=!0),t},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"==typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||tt.a.options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(N.a)("outline","outlined",this)},methods:{genWrapper:function(){var t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible];return this.$createElement("div",{staticClass:"v-alert__wrapper"},t)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var data={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};this.coloredBorder||(data=(this.hasText?this.setTextColor:this.setBackgroundColor)(this.computedColor,data));return this.$createElement("div",data,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(t){var e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}}),st=r(427),lt=r(432),ct=r(429),ut=Object(x.a)(K,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("app-bar"),t._v(" "),r("v-main",{staticClass:"background"},[r("v-container",{attrs:{fluid:""}},[r("breadcrumbs"),t._v(" "),t.existWorkflowId?[r("info-card",{staticClass:"mx-auto",attrs:{"workflow-id":t.workflowId}}),t._v(" "),r("v-alert",{staticClass:"mx-auto mt-8",attrs:{"max-width":"1200",type:"error",elevation:"8",value:"Available"!==t.service.state}},[t._v(t._s("Workflow cannot be executed because the status of service "+t.service.name+" is not available.")+"\n        ")]),t._v(" "),r("execute-card",{staticClass:"mx-auto mt-8 mb-4",attrs:{"workflow-id":t.workflowId}})]:[t._v(t._s("Workflow id: "+t.workflowId+" does not exist."))]],2)],1),t._v(" "),r("app-footer")],1)}),[],!1,null,null,null);e.default=ut.exports;k()(ut,{VAlert:at,VApp:st.a,VContainer:lt.a,VMain:ct.a})}}]);